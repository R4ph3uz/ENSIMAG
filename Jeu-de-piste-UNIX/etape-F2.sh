#!/bin/bash

exec 4<&1

# We need bash here to be able to read from 4th fd directly...
# RedHat bug with base64 -d => use -i as a workaround
# https://bugzilla.redhat.com/show_bug.cgi?id=719317
base64 -di <<EOF | exec /bin/bash -s
IyEvYmluL2Jhc2gKCmlmIGxzIC9uby1zdWNoLWZpbGUtZDgxZjcwZjYtM2EzMy0xMWU2LTlmZjYt
MTgwMzczMjk1MWFiIDI+JjEgfCBncmVwIC1xIC1pICdhdWN1biBmaWNoaWVyJwp0aGVuCiAgICBn
ZXR0ZXh0ICJDZSBzY3JpcHQgcmVmdXNlIGRlIHMnZXjDqWN1dGVyIGRhbnMgdW4gZW52aXJvbm5l
bWVudCBjb25maWd1csOpCmVuIGZyYW7Dp2Fpcy4gQ29uZmlndXJleiB2b3RyZSBlbnZpcm9ubmVt
ZW50IGVuIGFuZ2xhaXMgKHZvaXIgbGVzIGRvY3VtZW50YXRpb25zCmZvdXJuaWVzIHBhciBsZXMg
ZW5zZWlnbmFudHMpIGV0IHJlY29tbWFuY2V6LgoKT3VpLCBqZSBzdWlzIHVuIHBldSBkdXIsIGF2
ZWMgdm91cywgbWFpcyBjJ2VzdCB1bmUgYm9ubmUgaGFiaXR1ZGUgcG91cgp1biBpbmZvcm1hdGlj
aWVuIGRlIHRyYXZhaWxsZXIgYXZlYyBkZXMgbG9naWNpZWxzIGVuIGFuZ2xhaXMgZXQgZGUKcydo
YWJpdHVlciDDoCBsaXJlIGxlcyBkb2N1bWVudGF0aW9ucyBlbiBhbmdsYWlzIDogYXV0YW50IHMn
eSBtZXR0cmUKdG91dCBkZSBzdWl0ZSAhCiIKICAgIGV4aXQgMQplbGlmIGxzIC9uby1zdWNoLWZp
bGUtZDgxZjcwZjYtM2EzMy0xMWU2LTlmZjYtMTgwMzczMjk1MWFiIDI+JjEgfCBncmVwIC1xIC1p
ICdubyBzdWNoIGZpbGUnCnRoZW4KICAgIGdldHRleHQgIlBhcmZhaXQsIHZvdHJlIGVudmlyb25u
ZW1lbnQgcGFybGUgYW5nbGFpcywgY29udGludW9ucyAuLi4KIgogICAgZWNobwplbHNlCiAgICBn
ZXR0ZXh0ICJWb3RyZSBlbnZpcm9ubmVtZW50IGVzdCBjb25maWd1csOpIGRhbnMgdW5lIGxhbmd1
ZSBxdWUgamUgbmUgY29ubmFpcwpwYXMsIG91IGJpZW4gaWwgeSBhIHVuIGJ1ZyBkYW5zIGxlIGpl
dSBkZSBwaXN0ZS4gVm9pY2kgbGVzIGluZm9ybWF0aW9ucyBzdXIKbGEgY29uZmlndXJhdGlvbiAo
Y29tbWFuZGUgJ2xvY2FsZScpIDoKIgogICAgbG9jYWxlCiAgICBnZXR0ZXh0ICJBcHB1eWV6IHN1
ciBFbnRyw6llIHBvdXIgY29udGludWVyIgogICAgcmVhZApmaQoKIyBleGVjdXRlICdleGVjIDQ8
JjEnIGJlZm9yZSBleGVjJ2luZyB0aGlzIHNjcmlwdCEKCnJldHJ5ICgpIHsKICAgIGlmIFsgIiQx
IiAhPSAiIiBdOyB0aGVuCgloaW50PSIgKCQxKS4iCiAgICBlbHNlCgloaW50PSIiCiAgICBmaQog
ICAgZWNobyAiTm9uIC4uLiIgIiR7aGludH0iCiAgICBlY2hvICJSZWpvdWUgISI7Cn0KCiMgY2Fu
Y2VsICgpIHsKIyAgICAgZWNobyAiT2sgaidhcnLDqnRlLiBNYWlzIGlsIGZhdWRyYSByZWNvbW1l
bmNlciAhIjsKIyAgICAgZXhpdCAxOwkJCSMgbW91YWlmCiMgfQoKb2sgKCkgewogICAgZWNobyAi
QnJhdm8gISBmaW4gZGUgbCfDqXRhcGUuLi4KCkwnw6l0YXBlIHN1aXZhbnRlIGNvbnNpc3RlIMOg
IGZhaXJlIGxlcyB0cm9pcyBxdWFydHMgZHUgdHV0b3JpZWwKClRyYXZhaWxsZXIgw6AgZGlzdGFu
Y2UgY29tbWUgdW4gcHJvIChTU0gsIFRNVVgsIFgxMSkKCkRhbnMgbGEgcGFnZSB3ZWIgZHUgY291
cnMsIGxhIHByZW1pw6hyZSBlbnRyw6llIGR1IG5pdmVhdSAqZXhwZXJ0Ki4iCiAgICBleGl0IDA7
Cn0KCnJldHJ5X2VvZiAoKSB7CiAgICByZXRyeSAiY2V0dGUgYWN0aW9uIGVudm9pZSB1biBjYXJh
Y3RlcmUgZGUgZmluIGRlIGZpY2hpZXIgYXUgcHJvY2Vzc3VzIgp9CgpyZXRyeV9pbnQgKCkgewog
ICAgcmV0cnkgImNldHRlIGFjdGlvbiBhdXJhaXQgcHUgdHVlciBsZSBwcm9jZXNzdXMiCn0KCndh
aXRfZW9mICgpIHsKICAgIG9uZW9mICgpIHsgb2s7IH0KICAgIG9uc3RwICgpIHsgOjsgfQogICAg
b25jb250ICgpIHsgOjsgfQogICAgb25pbnQgKCkgeyByZXRyeV9pbnQ7IH0KICAgIG9ucXVpdCAo
KSB7IHJldHJ5OyB9CiAgICBlY2hvICJPaywgamUgbWUgc3VzcGVuZHMuIFJlbGFuY2UtbW9pIGVu
IGF2YW50LXBsYW4gcG91ciBjb250aW51ZXIuCkEgdG91dCBkZSBzdWl0ZSAuLi4iOwp9Cgp3YWl0
X3N0cCAoKSB7CiAgICBvbmVvZiAoKSB7IHJldHJ5X2VvZjsgfQogICAgb25zdHAgKCkgewoJd2Fp
dF9lb2Y7IGtpbGwgLVNUT1AgJCQ7IAoJZWNobyAiTWUgcmV2b2lsYS4gSidhdHRlbmRzIG1haW50
ZW5hbnQgdW4gY2FyYWN0ZXJlIGRlIGZpbiBkZSBmaWNoaWVyLgpTaSBsYSBjb21tYW5kZSBhdmFp
dCDDqXTDqSBsYW5jw6llIGF2ZWMgdW5lIGVudHJlZSByZWRpcmlnZWUKKGNvbW1lICcuL2V0YXBl
LUYyLnNoIDwgdW4tZmljaGllcicgb3UgYmllbiAnY29tbWFuZGUgfCAuL2V0YXBlLUYyLnNoJyks
CmxlIGNhcmFjdGVyZSBkZSBmaW4gZGUgZmljaGllciBhdXJhaXQgZXRlIHJlY3UgZW4gYXJyaXZh
bnQKYSBsYSBmaW4gZHUgZmljaGllciBvdSBkZSBsYSBjb21tYW5kZSBkJ2VudHJlZS4gSWNpLCBs
J2VudHJlZSBkZQpldGFwZS1GMi5zaCBlc3QgbGUgY2xhdmllci4gT24gcGV1dCBzaW11bGVyIHVu
ZSBmaW4gZGUgZmljaGllciBhdmVjCkNvbnRyb2wtZC4iIDsgfQogICAgb25jb250ICgpIHsgOjsg
fQogICAgb25pbnQgKCkgeyByZXRyeV9pbnQ7IH0KICAgIG9ucXVpdCAoKSB7IHJldHJ5OyB9CiAg
ICBlY2hvICJTdXNwZW5kcyBtb2kuLi4iOwp9CgojIHdhaXRfcXVpdCAoKSB7CiMgICAgIG9uZW9m
ICgpIHsgcmV0cnk7IH0KIyAgICAgb25zdHAgKCkgeyA6OyB9CiMgICAgIG9uY29udCAoKSB7IDo7
IH0KIyAgICAgb25pbnQgKCkgeyByZXRyeTsgfQojICAgICBvbnF1aXQgKCkgeyB3YWl0X3N0cDsg
fQojICAgICBlY2hvICdTSUdRVUlUID8nOwojIH0KCiMgd2FpdF9pbnQgKCkgewojICAgICBvbmVv
ZiAoKSB7IHJldHJ5OyB9CiMgICAgIG9uc3RwICgpIHsgcmV0cnk7IH0KIyAgICAgb25jb250ICgp
IHsgOjsgfQojICAgICBvbmludCAoKSB7IHdhaXRfcXVpdDsgfQojICAgICBvbnF1aXQgKCkgeyBy
ZXRyeTsgfQojICAgICBlY2hvICdTSUdJTlQgPyc7CiMgfQoKd2FpdF9zdHA7Cgp0cmFwICdvbmlu
dCcgSU5UOwp0cmFwICdvbnN0cCcgVFNUUDsKdHJhcCAnb25jb250JyBDT05UOwp0cmFwICdvbnF1
aXQnIFFVSVQ7Cgp3Z2V0ICJodHRwOi8vd3d3LXZlcmltYWcuaW1hZy5mci9+bW95L21vbml0b3Jp
bmctamRwL3JlY29yZC5waHA/bG9naW49JExPR05BTUUmc3RlcD1GMiIgLU8gL2Rldi9udWxsIDI+
L2Rldi9udWxsICYKCndoaWxlIHRydWU7IGRvCiAgICB3aGlsZSByZWFkIC11IDQgLXIgdmFyOyBk
byA6OyBkb25lOwogICAgb25lb2Y7CmRvbmU7Cg==
EOF
